<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/lo1tuma/eslint-plugin-mocha"

    >eslint-plugin-mocha (v4.9.0)</a>
</h1>
<h4>Eslint rules for mocha.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.eslint-plugin-mocha">module eslint-plugin-mocha</a><ol>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">eslint-plugin-mocha.</span>ast</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">eslint-plugin-mocha.</span>configs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">eslint-plugin-mocha.</span>rules</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">eslint-plugin-mocha.</span>settings</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.eslint-plugin-mocha.ast">module eslint-plugin-mocha.ast</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.ast.getNodeName">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>getNodeName
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.ast.getPropertyName">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>getPropertyName
            <span class="apidocSignatureSpan">(property)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.ast.isDescribe">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>isDescribe
            <span class="apidocSignatureSpan">(node, additionalSuiteNames)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.ast.isHookIdentifier">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>isHookIdentifier
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.ast.isTestCase">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>isTestCase
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.eslint-plugin-mocha.rules">module eslint-plugin-mocha.rules</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.handle-done-callback">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>handle-done-callback
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.max-top-level-suites">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>max-top-level-suites
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-exclusive-tests">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-exclusive-tests
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-global-tests">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-global-tests
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-hooks">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-hooks
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-hooks-for-single-case">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-hooks-for-single-case
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-identical-title">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-identical-title
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-mocha-arrows">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-mocha-arrows
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-nested-tests">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-nested-tests
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-pending-tests">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-pending-tests
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-return-and-callback">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-return-and-callback
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-sibling-hooks">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-sibling-hooks
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-skipped-tests">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-skipped-tests
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-synchronous-tests">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-synchronous-tests
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.no-top-level-hooks">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-top-level-hooks
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.valid-suite-description">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>valid-suite-description
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.rules.valid-test-description">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>valid-test-description
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.eslint-plugin-mocha.settings">module eslint-plugin-mocha.settings</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.settings.additionalSuiteNames">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.settings.</span>additionalSuiteNames
            <span class="apidocSignatureSpan">(settings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.settings.getAdditionalTestFunctions">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.settings.</span>getAdditionalTestFunctions
            <span class="apidocSignatureSpan">(settings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.eslint-plugin-mocha.settings.getAdditionalXFunctions">
            function <span class="apidocSignatureSpan">eslint-plugin-mocha.settings.</span>getAdditionalXFunctions
            <span class="apidocSignatureSpan">(settings)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.eslint-plugin-mocha" id="apidoc.module.eslint-plugin-mocha">module eslint-plugin-mocha</a></h1>









</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.eslint-plugin-mocha.ast" id="apidoc.module.eslint-plugin-mocha.ast">module eslint-plugin-mocha.ast</a></h1>


    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.ast.getNodeName" id="apidoc.element.eslint-plugin-mocha.ast.getNodeName">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>getNodeName
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getNodeName(node) {
    if (node.type === &#x27;MemberExpression&#x27;) {
        return getNodeName(node.object) + &#x27;.&#x27; + getPropertyName(node.property);
    }
    return node.name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.ast.getPropertyName" id="apidoc.element.eslint-plugin-mocha.ast.getPropertyName">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>getPropertyName
        <span class="apidocSignatureSpan">(property)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getPropertyName(property) {
    return property.name || property.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.ast.isDescribe" id="apidoc.element.eslint-plugin-mocha.ast.isDescribe">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>isDescribe
        <span class="apidocSignatureSpan">(node, additionalSuiteNames)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isDescribe(node, additionalSuiteNames) {
  return node
      &#x26;&#x26; node.type === &#x27;CallExpression&#x27;
      &#x26;&#x26; describeAliases.concat(additionalSuiteNames).indexOf(getNodeName(node.callee)) &#x3e; -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
suiteLimit = defaultSuiteLimit;
    } else {
suiteLimit = options.limit;
    }

    return {
CallExpression: function (node) {
    if (astUtil.<span class="apidocCodeKeywordSpan">isDescribe</span>(node, additionalSuiteNames(settings))) {
        stack.push(node);
    }
},

&#x27;CallExpression:exit&#x27;: function (node) {
    if (astUtil.isDescribe(node, additionalSuiteNames(settings))) {
        if (stack.length === 1) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.ast.isHookIdentifier" id="apidoc.element.eslint-plugin-mocha.ast.isHookIdentifier">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>isHookIdentifier
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isHookIdentifier(node) {
  return node
      &#x26;&#x26; node.type === &#x27;Identifier&#x27;
      &#x26;&#x26; hooks.indexOf(node.name) !== -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            return;
        }

        if (astUtil.isTestCase(node)) {
            layers[layers.length - 1].testCount += 1;
        }

        if (astUtil.<span class="apidocCodeKeywordSpan">isHookIdentifier</span>(node.callee)) {
            layers[layers.length - 1].hookNodes.push(node.callee);
        }
    },

    &#x27;CallExpression:exit&#x27;: popLayer,
    &#x27;Program:exit&#x27;: popLayer
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.ast.isTestCase" id="apidoc.element.eslint-plugin-mocha.ast.isTestCase">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.ast.</span>isTestCase
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isTestCase(node) {
    return node
        &#x26;&#x26; node.type === &#x27;CallExpression&#x27;
        &#x26;&#x26; testCaseNames.indexOf(getNodeName(node.callee)) &#x3e; -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
CallExpression: function (node) {
    if (astUtil.isDescribe(node, additionalSuiteNames(settings))) {
        layers[layers.length - 1].testCount += 1;
        layers.push(newDescribeLayer(node));
        return;
    }

    if (astUtil.<span class="apidocCodeKeywordSpan">isTestCase</span>(node)) {
        layers[layers.length - 1].testCount += 1;
    }

    if (astUtil.isHookIdentifier(node.callee)) {
        layers[layers.length - 1].hookNodes.push(node.callee);
    }
},
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.eslint-plugin-mocha.rules" id="apidoc.module.eslint-plugin-mocha.rules">module eslint-plugin-mocha.rules</a></h1>


    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.handle-done-callback" id="apidoc.element.eslint-plugin-mocha.rules.handle-done-callback">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>handle-done-callback
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handle-done-callback = function (context) {
    var possibleAsyncFunctionNames = [
        &#x27;it&#x27;,
        &#x27;it.only&#x27;,
        &#x27;test&#x27;,
        &#x27;test.only&#x27;,
        &#x27;specify&#x27;,
        &#x27;specify.only&#x27;,
        &#x27;before&#x27;,
        &#x27;after&#x27;,
        &#x27;beforeEach&#x27;,
        &#x27;afterEach&#x27;
    ];

    function getCalleeName(callee) {
        if (callee.type === &#x27;MemberExpression&#x27;) {
             return callee.object.name + &#x27;.&#x27; + callee.property.name;
        }

        return callee.name;
    }

    function hasParentMochaFunctionCall(functionExpression) {
        var name;

        if (functionExpression.parent &#x26;&#x26; functionExpression.parent.type === &#x27;CallExpression&#x27;) {
            name = getCalleeName(functionExpression.parent.callee);
            return possibleAsyncFunctionNames.indexOf(name) &#x3e; -1;
        }

        return false;
    }

    function isAsyncFunction(functionExpression) {
        return functionExpression.params.length === 1;
    }

    function findParamInScope(paramName, scope) {
        return R.find(function (variable) {
            return variable.name === paramName &#x26;&#x26; variable.defs[0].type === &#x27;Parameter&#x27;;
        }, scope.variables);
    }

    function isReferenceHandled(reference) {
        var parent = context.getNodeByRangeIndex(reference.identifier.range[0]).parent;

        return parent.type === &#x27;CallExpression&#x27;;
    }

    function hasHandledReferences(references) {
        return references.some(isReferenceHandled);
    }

    function checkAsyncMochaFunction(functionExpression) {
        var scope = context.getScope(),
            callback = functionExpression.params[0],
            callbackName = callback.name,
            callbackVariable = findParamInScope(callbackName, scope);

        if (callbackVariable &#x26;&#x26; !hasHandledReferences(callbackVariable.references)) {
            context.report(callback, &#x27;Expected &#x22;function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>handle-done-callback&#x22; callback to be handled.&#x27;, { name: callbackName });
        }
    }

    function check(node) {
        if (hasParentMochaFunctionCall(node) &#x26;&#x26; isAsyncFunction(node)) {
            checkAsyncMochaFunction(node);
        }
    }

    return {
        FunctionExpression: check,
        ArrowFunctionExpression: check
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.max-top-level-suites" id="apidoc.element.eslint-plugin-mocha.rules.max-top-level-suites">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>max-top-level-suites
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">max-top-level-suites = function (context) {
    var stack = [],
        topLevelDescribes = [],
        options = context.options[0] || {},
        settings = context.settings,
        suiteLimit;

    if (R.isNil(options.limit)) {
        suiteLimit = defaultSuiteLimit;
    } else {
        suiteLimit = options.limit;
    }

    return {
        CallExpression: function (node) {
            if (astUtil.isDescribe(node, additionalSuiteNames(settings))) {
                stack.push(node);
            }
        },

        &#x27;CallExpression:exit&#x27;: function (node) {
            if (astUtil.isDescribe(node, additionalSuiteNames(settings))) {
                if (stack.length === 1) {
                    topLevelDescribes.push(node);
                }

                stack.pop(node);
            }
        },

        &#x27;Program:exit&#x27;: function () {
            if (topLevelDescribes.length &#x3e; suiteLimit) {
                context.report({
                    node: topLevelDescribes[suiteLimit],
                    message: &#x27;The number of top-level suites is more than &#x27; + suiteLimit + &#x27;.&#x27;
                });
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-exclusive-tests" id="apidoc.element.eslint-plugin-mocha.rules.no-exclusive-tests">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-exclusive-tests
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-exclusive-tests = function (context) {
    var mochaTestFunctions = [
            &#x27;it&#x27;,
            &#x27;describe&#x27;,
            &#x27;suite&#x27;,
            &#x27;test&#x27;,
            &#x27;context&#x27;,
            &#x27;specify&#x27;
        ],
        settings = context.settings,
        additionalTestFunctions = getAdditionalTestFunctions(settings);

    mochaTestFunctions = mochaTestFunctions.concat(additionalTestFunctions);

    function matchesMochaTestFunction(object) {
        var name = astUtils.getNodeName(object);

        return mochaTestFunctions.indexOf(name) !== -1;
    }

    function isPropertyNamedOnly(property) {
        return property &#x26;&#x26; astUtils.getPropertyName(property) === &#x27;only&#x27;;
    }

    function isCallToMochasOnlyFunction(callee) {
        return callee.type === &#x27;MemberExpression&#x27; &#x26;&#x26;
            matchesMochaTestFunction(callee.object) &#x26;&#x26;
            isPropertyNamedOnly(callee.property);
    }

    return {
        CallExpression: function (node) {
            var callee = node.callee;

            if (callee &#x26;&#x26; isCallToMochasOnlyFunction(callee)) {
                context.report({
                    node: callee.property,
                    message: &#x27;Unexpected exclusive mocha test.&#x27;
                });
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-global-tests" id="apidoc.element.eslint-plugin-mocha.rules.no-global-tests">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-global-tests
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-global-tests = function (context) {
    var testFunctionNames = [
            &#x27;it&#x27;,
            &#x27;it.only&#x27;,
            &#x27;it.skip&#x27;,
            &#x27;test&#x27;,
            &#x27;test.only&#x27;,
            &#x27;test.skip&#x27;,
            &#x27;specify&#x27;,
            &#x27;specify.only&#x27;,
            &#x27;specify.skip&#x27;
        ];

    function getFnName(callee) {
        if (callee.type === &#x27;MemberExpression&#x27;) {
            if (callee.computed) {
                return callee.object.name + &#x27;.&#x27; + callee.property.value;
            }

            return callee.object.name + &#x27;.&#x27; + callee.property.name;
        }

        return callee.name;
    }

    function isGlobalScope(scope) {
        return scope.type === &#x27;global&#x27; || scope.type === &#x27;module&#x27;;
    }

    return {
        CallExpression: function (node) {
            var callee = node.callee,
                fnName = getFnName(callee),
                scope = context.getScope();

            if (testFunctionNames.indexOf(fnName) !== -1 &#x26;&#x26; isGlobalScope(scope)) {
                context.report(callee, &#x27;Unexpected global mocha test.&#x27;);
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-hooks" id="apidoc.element.eslint-plugin-mocha.rules.no-hooks">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-hooks
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-hooks = function (context) {
    return {
        CallExpression: function (node) {
            if (astUtil.isHookIdentifier(node.callee)) {
                context.report({
                    node: node.callee,
                    message: &#x27;Unexpected use of Mocha `&#x27; + node.callee.name + &#x27;` hook&#x27;
                });
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-hooks-for-single-case" id="apidoc.element.eslint-plugin-mocha.rules.no-hooks-for-single-case">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-hooks-for-single-case
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-hooks-for-single-case = function (context) {
    var options = context.options[0] || {},
        allowedHooks = options.allow || [],
        settings = context.settings,
        layers = [];

    function popLayer(node) {
        var layer = layers[layers.length - 1];
        if (layer.describeNode === node) {
            if (layer.testCount &#x3c;= 1) {
                layer.hookNodes
                    .filter(function (hookNode) {
                        return allowedHooks.indexOf(hookNode.name) === -1;
                    })
                    .forEach(function (hookNode) {
                        context.report({
                            node: hookNode,
                            message: &#x27;Unexpected use of Mocha `&#x27; + hookNode.name + &#x27;` hook for a single test case&#x27;
                        });
                    });
            }
            layers.pop();
        }
    }

    return {
        Program: function (node) {
            layers.push(newDescribeLayer(node));
        },

        CallExpression: function (node) {
            if (astUtil.isDescribe(node, additionalSuiteNames(settings))) {
                layers[layers.length - 1].testCount += 1;
                layers.push(newDescribeLayer(node));
                return;
            }

            if (astUtil.isTestCase(node)) {
                layers[layers.length - 1].testCount += 1;
            }

            if (astUtil.isHookIdentifier(node.callee)) {
                layers[layers.length - 1].hookNodes.push(node.callee);
            }
        },

        &#x27;CallExpression:exit&#x27;: popLayer,
        &#x27;Program:exit&#x27;: popLayer
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-identical-title" id="apidoc.element.eslint-plugin-mocha.rules.no-identical-title">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-identical-title
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-identical-title = function (context) {
    var titleLayers = [
        newLayer()
    ],
    settings = context.settings;

    return {
        CallExpression: function (node) {
            var currentLayer = titleLayers[titleLayers.length - 1],
                title;
            if (astUtil.isDescribe(node, additionalSuiteNames(settings))) {
                titleLayers.push(newLayer());
            }
            if (!isFirstArgLiteral(node)) {
                return;
            }

            title = node.arguments[0].value;
            handlTestCaseTitles(context, currentLayer.testTitles, node, title);
            handlTestSuiteTitles(context, currentLayer.describeTitles, node, title);
        },
        &#x27;CallExpression:exit&#x27;: function (node) {
            if (astUtil.isDescribe(node, additionalSuiteNames(settings))) {
                titleLayers.pop();
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-mocha-arrows" id="apidoc.element.eslint-plugin-mocha.rules.no-mocha-arrows">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-mocha-arrows
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-mocha-arrows = function (context) {
    function getCalleeName(callee) {
        if (callee.type === &#x27;MemberExpression&#x27;) {
             return callee.object.name + &#x27;.&#x27; + callee.property.name;
        }

        return callee.name;
    }

    function isLikelyMochaGlobal(scope, name) {
        return !R.find(R.propEq(&#x27;name&#x27;, name), scope.variables);
    }

    function fixArrowFunction(fixer, fn) {
        var sourceCode = context.getSourceCode(),
            paramsLeftParen = sourceCode.getFirstToken(fn),
            paramsRightParen = sourceCode.getTokenBefore(sourceCode.getTokenBefore(fn.body)),
            paramsFullText =
                sourceCode.text.slice(paramsLeftParen.range[0], paramsRightParen.range[1]),
            functionKeyword = &#x27;function&#x27;,
            bodyText;

        if (fn.async) {
            // When &#x27;async&#x27; specified, take care about the keyword.
            functionKeyword = &#x27;async function&#x27;;
            // Strip &#x27;async (...)&#x27; to &#x27; (...)&#x27;
            paramsFullText = paramsFullText.slice(5);
        }

        if (fn.params.length &#x3e; 0) {
            paramsFullText = &#x27;(&#x27; + sourceCode.text.slice(fn.params[0].start, R.last(fn.params).end) + &#x27;)&#x27;;
        }

        if (fn.body.type === &#x27;BlockStatement&#x27;) {
            // When it((...) =&#x3e; { ... }),
            // simply replace &#x27;(...) =&#x3e; &#x27; with &#x27;function () &#x27;
            return fixer.replaceTextRange(
                [ fn.start, fn.body.start ],
                functionKeyword + paramsFullText + &#x27; &#x27;
            );
        }

        bodyText = sourceCode.text.slice(fn.body.range[0], fn.body.range[1]);
        return fixer.replaceTextRange(
            [ fn.start, fn.end ],
            functionKeyword + paramsFullText + &#x27; { return &#x27; + bodyText + &#x27;; }&#x27;
        );
    }

    return {
        CallExpression: function (node) {
            var name = getCalleeName(node.callee),
                fnArg;

            if (name &#x26;&#x26; mochaFunctionNames.indexOf(name) &#x3e; -1) {
                fnArg = node.arguments.slice(-1)[0];
                if (fnArg &#x26;&#x26; fnArg.type === &#x27;ArrowFunctionExpression&#x27;) {
                    if (isLikelyMochaGlobal(context.getScope(), name)) {
                        context.report({
                            node: node,
                            message: &#x27;Do not pass arrow functions to &#x27; + name + &#x27;()&#x27;,
                            fix: function (fixer) {
                                return fixArrowFunction(fixer, fnArg);
                            }
                        });
                    }
                }
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-nested-tests" id="apidoc.element.eslint-plugin-mocha.rules.no-nested-tests">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-nested-tests
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function noNestedTests(context) {
    var testNestingLevel = 0,
        settings = context.settings;

    function report(callExpression, isTestCase) {
        var message = isTestCase ? &#x27;Unexpected test nested within another test.&#x27; :
            &#x27;Unexpected suite nested within a test.&#x27;;

        context.report({
            message: message,
            node: callExpression.callee
        });
    }

    return {
        CallExpression: function (node) {
            var isTestCase = astUtils.isTestCase(node),
                isDescribe = astUtils.isDescribe(node, additionalSuiteNames(settings));

            if (testNestingLevel &#x3e; 0 &#x26;&#x26; (isTestCase || isDescribe)) {
                report(node, isTestCase);
            }

            if (isTestCase) {
                testNestingLevel += 1;
            }
        },

        &#x27;CallExpression:exit&#x27;: function (node) {
            if (astUtils.isTestCase(node)) {
                testNestingLevel -= 1;
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-pending-tests" id="apidoc.element.eslint-plugin-mocha.rules.no-pending-tests">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-pending-tests
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-pending-tests = function (context) {
    var mochaTestFunctionNames = [
        &#x27;it&#x27;,
        &#x27;test&#x27;,
        &#x27;specify&#x27;
    ];

    function isMochaTest(callee) {
        return callee.type === &#x27;Identifier&#x27; &#x26;&#x26;
            mochaTestFunctionNames.indexOf(callee.name) !== -1;
    }

    function isPendingMochaTest(node) {
        return isMochaTest(node.callee) &#x26;&#x26;
            node.arguments.length === 1 &#x26;&#x26;
            node.arguments[0].type === &#x27;Literal&#x27;;
    }

    return {
        CallExpression: function (node) {
            if (node.callee &#x26;&#x26; isPendingMochaTest(node)) {
                context.report({
                    node: node,
                    message: &#x27;Unexpected pending mocha test.&#x27;
                });
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-return-and-callback" id="apidoc.element.eslint-plugin-mocha.rules.no-return-and-callback">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-return-and-callback
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-return-and-callback = function (context) {
    function check(node) {
        if (node.params.length === 0 || !hasParentMochaFunctionCall(node)) {
            return;
        }

        if (!reportIfShortArrowFunction(context, node)) {
            reportIfFunctionWithBlock(context, node, node.params[0].name);
        }
    }

    return {
        FunctionExpression: check,
        ArrowFunctionExpression: check
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-sibling-hooks" id="apidoc.element.eslint-plugin-mocha.rules.no-sibling-hooks">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-sibling-hooks
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-sibling-hooks = function (context) {
    var isUsed = [],
        settings = context.settings;

    return {
        Program: function (node) {
            isUsed.push(newDescribeLayer(node));
        },

        CallExpression: function (node) {
            var name = node.callee &#x26;&#x26; node.callee.name;
            if (astUtil.isDescribe(node, additionalSuiteNames(settings))) {
              isUsed.push(newDescribeLayer(node));
              return;
            }

            if (!astUtil.isHookIdentifier(node.callee)) {
              return;
            }

            if (isUsed[isUsed.length - 1][name]) {
                context.report({
                    node: node.callee,
                    message: &#x27;Unexpected use of duplicate Mocha `&#x27; + name + &#x27;` hook&#x27;
                });
            }

            isUsed[isUsed.length - 1][name] = true;
        },

        &#x27;CallExpression:exit&#x27;: function (node) {
            if (isUsed[isUsed.length - 1].describeNode === node) {
              isUsed.pop();
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-skipped-tests" id="apidoc.element.eslint-plugin-mocha.rules.no-skipped-tests">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-skipped-tests
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-skipped-tests = function (context) {
    var settings = context.settings,
        additionalTestFunctions = getAdditionalTestFunctions(settings),
        additionalXFunctions = getAdditionalXFunctions(settings);

    mochaTestFunctions = [
        &#x27;it&#x27;,
        &#x27;describe&#x27;,
        &#x27;suite&#x27;,
        &#x27;test&#x27;,
        &#x27;context&#x27;,
        &#x27;specify&#x27;
    ].concat(additionalTestFunctions);
    mochaXFunctions = [
        &#x27;xit&#x27;,
        &#x27;xdescribe&#x27;,
        &#x27;xcontext&#x27;,
        &#x27;xspecify&#x27;
    ].concat(additionalXFunctions);

    return {
        CallExpression: function (node) {
            var callee = node.callee;

            if (callee &#x26;&#x26; isCallToMochasSkipFunction(callee)) {
                context.report({
                    node: callee.property,
                    message: &#x27;Unexpected skipped mocha test.&#x27;,
                    fix: createSkipAutofixFunction(callee)
                });
            } else if (callee &#x26;&#x26; isCallToMochaXFunction(callee)) {
                context.report({
                    node: callee,
                    message: &#x27;Unexpected skipped mocha test.&#x27;,
                    fix: createXAutofixFunction(callee)
                });
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-synchronous-tests" id="apidoc.element.eslint-plugin-mocha.rules.no-synchronous-tests">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-synchronous-tests
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-synchronous-tests = function (context) {
    var possibleAsyncFunctionNames = [
        &#x27;it&#x27;,
        &#x27;it.only&#x27;,
        &#x27;test&#x27;,
        &#x27;test.only&#x27;,
        &#x27;specify&#x27;,
        &#x27;specify.only&#x27;,
        &#x27;before&#x27;,
        &#x27;after&#x27;,
        &#x27;beforeEach&#x27;,
        &#x27;afterEach&#x27;
    ];

    function getCalleeName(callee) {
        if (callee.type === &#x27;MemberExpression&#x27;) {
             return callee.object.name + &#x27;.&#x27; + callee.property.name;
        }

        return callee.name;
    }

    function hasParentMochaFunctionCall(functionExpression) {
        var name;

        if (functionExpression.parent &#x26;&#x26; functionExpression.parent.type === &#x27;CallExpression&#x27;) {
            name = getCalleeName(functionExpression.parent.callee);
            return possibleAsyncFunctionNames.indexOf(name) &#x3e; -1;
        }

        return false;
    }

    function hasAsyncCallback(functionExpression) {
        return functionExpression.params.length === 1;
    }

    function findPromiseReturnStatement(nodes) {
      return R.find(function (node) {
        return node.type === &#x27;ReturnStatement&#x27; &#x26;&#x26; node.argument &#x26;&#x26; node.argument.type !== &#x27;Literal&#x27;;
      }, nodes);
    }

    function checkPromiseReturn(functionExpression) {
        var bodyStatement = functionExpression.body,
            returnStatement = null;

        if (bodyStatement.type === &#x27;BlockStatement&#x27;) {
            returnStatement = findPromiseReturnStatement(functionExpression.body.body);
        } else if (bodyStatement.type === &#x27;CallExpression&#x27;) {
            //  allow arrow statements calling a promise with implicit return.
            returnStatement = bodyStatement;
        }

        if (!returnStatement) {
            context.report(functionExpression, &#x27;Unexpected synchronous test.&#x27;);
        }
    }

    function check(node) {
        if (hasParentMochaFunctionCall(node) &#x26;&#x26; !hasAsyncCallback(node)) {
            checkPromiseReturn(node);
        }
    }

    return {
        FunctionExpression: check,
        ArrowFunctionExpression: check
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.no-top-level-hooks" id="apidoc.element.eslint-plugin-mocha.rules.no-top-level-hooks">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>no-top-level-hooks
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">no-top-level-hooks = function (context) {
    var settings = context.settings,
        testSuiteStack = [];

    return {
        CallExpression: function (node) {
            if (astUtil.isDescribe(node, additionalSuiteNames(settings))) {
                testSuiteStack.push(node);
                return;
            }

            if (!astUtil.isHookIdentifier(node.callee)) {
              return;
            }

            if (testSuiteStack.length === 0) {
                context.report({
                    node: node.callee,
                    message: &#x27;Unexpected use of Mocha `&#x27; + node.callee.name + &#x27;` hook outside of a test suite&#x27;
                });
            }
        },

        &#x27;CallExpression:exit&#x27;: function (node) {
            if (testSuiteStack[testSuiteStack.length - 1] === node) {
                testSuiteStack.pop();
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.valid-suite-description" id="apidoc.element.eslint-plugin-mocha.rules.valid-suite-description">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>valid-suite-description
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">valid-suite-description = function (context) {
    var pattern = new RegExp(context.options[0]),
        suiteNames = context.options[1] ? context.options[1] : defaultSuiteNames;

    return {
        CallExpression: function (node) {
            var callee = node.callee,
                args;

            if (callee &#x26;&#x26; callee.name &#x26;&#x26; suiteNames.indexOf(callee.name) &#x3e; -1) {
                args = node.arguments;
                if (args &#x26;&#x26; args[0] &#x26;&#x26; typeof args[0].value === &#x27;string&#x27; &#x26;&#x26; !pattern.test(args[0].value)) {
                    context.report(node, &#x27;Invalid &#x22;&#x27; + callee.name + &#x27;()&#x22; description found.&#x27;);
                }
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.rules.valid-test-description" id="apidoc.element.eslint-plugin-mocha.rules.valid-test-description">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.rules.</span>valid-test-description
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">valid-test-description = function (context) {
    var pattern = context.options[0] ? new RegExp(context.options[0]) : /^should/,
        testNames = context.options[1] ? context.options[1] : defaultTestNames;

    return {
        CallExpression: function (node) {
            var callee = node.callee,
                args;

            if (callee &#x26;&#x26; callee.name &#x26;&#x26; testNames.indexOf(callee.name) &#x3e; -1) {
                args = node.arguments;
                if (args &#x26;&#x26; args[0] &#x26;&#x26; typeof args[0].value === &#x27;string&#x27; &#x26;&#x26; !pattern.test(args[0].value)) {
                    context.report(node, &#x27;Invalid &#x22;&#x27; + callee.name + &#x27;()&#x22; description found.&#x27;);
                }
            }
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.eslint-plugin-mocha.settings" id="apidoc.module.eslint-plugin-mocha.settings">module eslint-plugin-mocha.settings</a></h1>


    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.settings.additionalSuiteNames" id="apidoc.element.eslint-plugin-mocha.settings.additionalSuiteNames">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.settings.</span>additionalSuiteNames
        <span class="apidocSignatureSpan">(settings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">additionalSuiteNames = function (settings) {
  var value = settings[&#x27;mocha/&#x27; + propertyName],
      mochaSettings = settings.mocha || {};

  return value || mochaSettings[propertyName] || [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.settings.getAdditionalTestFunctions" id="apidoc.element.eslint-plugin-mocha.settings.getAdditionalTestFunctions">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.settings.</span>getAdditionalTestFunctions
        <span class="apidocSignatureSpan">(settings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAdditionalTestFunctions = function (settings) {
  var value = settings[&#x27;mocha/&#x27; + propertyName],
      mochaSettings = settings.mocha || {};

  return value || mochaSettings[propertyName] || [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.eslint-plugin-mocha.settings.getAdditionalXFunctions" id="apidoc.element.eslint-plugin-mocha.settings.getAdditionalXFunctions">
        function <span class="apidocSignatureSpan">eslint-plugin-mocha.settings.</span>getAdditionalXFunctions
        <span class="apidocSignatureSpan">(settings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAdditionalXFunctions = function (settings) {
  var value = settings[&#x27;mocha/&#x27; + propertyName],
      mochaSettings = settings.mocha || {};

  return value || mochaSettings[propertyName] || [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
